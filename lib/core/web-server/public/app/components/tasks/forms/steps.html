<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-9">
        <h2>Modules</h2>
        <ol class="breadcrumb">
            <li>
                <a ui-sref="dashboard.home">Home</a>
            </li>
            <li class="active">
                <strong>Modules</strong>
            </li>
        </ol>
    </div>
</div>

<div class="container-fluid">
    <h1 class="page-header">{{module.name}}</h1>

    <div class="ibox float-e-margins">
        <div class="ibox-title">
            <h5>Create your new task</h5>
        </div>
        <div class="ibox-content">
            <form novalidate name="form">

                <h3>General</h3>
                <div class="form-group">
                    <label>Name</label>
                    <div>
                        <input type="text" name="name" class="form-control" ng-required="true" ng-model="formData.name" />
                        <form-errors form="form" field="form.name"></form-errors>
                    </div>
                </div>

                <h3>General options</h3>
                <task-options config-options="module.config.options" ng-model="formData.options" ></task-options>

                <h3>Your triggers</h3>
                <div ng-repeat="trigger in formData.triggers">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            Trigger: {{trigger.type}}
                        </div>
                        <div class="panel-body">

                            <!-----------------------------

                                Trigger type

                            -------------------------------->
                            <h4>Specify the type of the trigger</h4>
                            <div class="form-group">
                                <div class="btn-group">
                                    <label class="btn btn-default" ng-model="trigger.type" uib-btn-radio="'direct'">Direct</label>
                                    <label class="btn btn-default" ng-model="trigger.type" uib-btn-radio="'schedule'">Scheduled</label>
                                    <label class="btn btn-default" ng-model="trigger.type" uib-btn-radio="'trigger'">Triggered</label>
                                    <label class="btn btn-default" ng-model="trigger.type" uib-btn-radio="'manual'">Manual</label>
                                </div>
                            </div>

                            <!-----------------------------

                                Trigger options

                            -------------------------------->
                            <h3>Options</h3>
                            <task-options config-options="module.config.taskOptions" ng-model="trigger.options" prefix="'trigger[' + $index + ']'"></task-options>

                            <!-----------------------------

                                Trigger Triggered part

                            -------------------------------->
                            <div ng-show="trigger.type === 'trigger'">
                                <h3>Trigger</h3>
                                <div class="form-group">
                                    <div class="radio radio-info radio-inline" ng-repeat="trig in triggers">
                                        <!--<input id="inlineRadio1" type="radio" value="interval" name="trig.id" ng-model="trigger.trigger.id" ng-required="true">-->
                                        <label for="inlineRadio1">{{trig.id}}</label>
                                    </div>
                                    <!--<form-errors form="form" field="form['trigger.schedule.method']"></form-errors>-->
                                </div>
                                <!--<trigger-options config-options="module.config.taskOptions" ng-model="trigger.triggerOptions"></trigger-options>-->
                            </div>

                            <!-----------------------------

                                Trigger Schedule part

                            -------------------------------->
                            <!--<div ng-show="trigger.type === 'schedule'">-->
                                <!--<h3>Schedule</h3>-->
                                <!--<div class="form-group">-->
                                    <!--<div class="radio radio-info radio-inline">-->
                                        <!--<input id="inlineRadio1" type="radio" value="interval" name="trigger.schedule.method" checked="checked" ng-model="trigger.schedule.method" ng-required="true">-->
                                        <!--<label for="inlineRadio1">Interval</label>-->
                                    <!--</div>-->
                                    <!--<div class="radio radio-info radio-inline">-->
                                        <!--<input id="inlineRadio2" type="radio" value="moment" name="trigger.schedule.method" ng-model="trigger.schedule.method" ng-required="true">-->
                                        <!--<label for="inlineRadio2">Moment</label>-->
                                    <!--</div>-->
                                    <!--<div class="radio radio-info radio-inline">-->
                                        <!--<input id="inlineRadio3" type="radio" value="range" name="trigger.schedule.method" ng-model="trigger.schedule.method" ng-required="true">-->
                                        <!--<label for="inlineRadio3">Range</label>-->
                                    <!--</div>-->
                                    <!--<form-errors form="form" field="form['trigger.schedule.method']"></form-errors>-->
                                <!--</div>-->

                                <!--<div class="form-group" ng-show="schedule.method === 'interval'">-->
                                    <!--<label for="interval">Intervalle (en secondes)</label>-->
                                    <!--<input id="interval" type="text" class="form-control" ng-required="schedule.method === 'interval'" ng-model="schedule.interval" />-->
                                <!--</div>-->

                                <!--<div ng-show="schedule.method === 'moment'">-->

                                    <!--<h4>Type de moment</h4>-->

                                    <!--<div class="form-group" >-->
                                        <!--<div class="btn-group">-->
                                            <!--<label class="btn btn-default" ng-model="schedule.subMoment" uib-btn-radio="'date'" uncheckable>Date</label>-->
                                            <!--<label class="btn btn-default" ng-model="schedule.subMoment" uib-btn-radio="'hours'" uncheckable>Heure</label>-->
                                        <!--</div>-->
                                    <!--</div>-->

                                    <!--<div class="form-group" ng-show="schedule.subMoment === 'date'">-->
                                        <!--<label >Intervalle</label>-->
                                        <!--<input type="text" class="form-control" date-range-picker ng-model="schedule.date" options="dateRangePickerOptions" />-->
                                    <!--</div>-->

                                    <!--<div ng-show="schedule.subMoment === 'hours'">-->
                                        <!--<div class="form-group" >-->
                                            <!--<label >Jours</label>-->
                                            <!--<select size="7" class="form-control" ng-required="schedule.method === 'hours'" multiple ng-multiple="true" ng-model="schedule.selectedDays" ng-options="day.name for day in schedule.days"></select>-->
                                        <!--</div>-->
                                        <!--<div class="form-group" ng-show="schedule.subMoment === 'hours'">-->
                                            <!--<label >Heure</label>-->
                                            <!--<input type="time" min="00:00" ng-model="schedule.hours" class="form-control" ng-required="schedule.method === 'hours'"/>-->
                                        <!--</div>-->
                                    <!--</div>-->

                                <!--</div>-->
                            <!--</div>-->

                            <!-----------------------------

                                Trigger Manual part

                            -------------------------------->
                            <div ng-show="trigger.type === 'manual'">

                            </div>

                            <!-----------------------------

                                Trigger actions

                            -------------------------------->
                            <h4>Specify an action when the trigger is executed</h4>
                            <div class="form-group">
                                <div>
                                    <task-actions actions="trigger.actions"></task-actions>
                                </div>
                            </div>

                            <button class="btn btn-primary" type="button" ng-click="removeTrigger($index)">Remove</button>

                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" type="button" ng-click="addTrigger()">Add a trigger</button>

                <button class="btn btn-primary" type="button" ng-click="processForm(form)">Create</button>
            </form>
        </div>
    </div>

    <pre>
        {{ formData }}
    </pre>
</div>
