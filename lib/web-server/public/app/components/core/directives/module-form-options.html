<div class="form-group" ng-repeat="configOption in configOptions" ng-init="fieldId = prefix + '.options.' + configOption.name">

    <label for="{{fieldId}}">{{configOption.label}}</label>
    <span class="help-block m-b-none">{{configOption.description}}</span>

    <div ng-switch="configOption.type">

        <div ng-switch-when="select">
            <select class="form-control" ng-model="options[configOption.name]" ng-required="{{configOption.required}}" id="{{fieldId}}" name="{{fieldId}}">
                <option ng-repeat="value in configOption.choices">{{value.label}}</option>
            </select>
        </div>

        <div ng-switch-when="text">
            <input type="text" id="{{fieldId}}" name="{{fieldId}}" class="form-control" ng-required="{{configOption.required}}" ng-model="options[configOption.name]" />
        </div>

        <div ng-switch-when="password">
            <input id="{{fieldId}}" name="{{fieldId}}" type="password" class="form-control" ng-required="{{configOption.required}}" ng-model="options[configOption.name]" />
        </div>

        <form-errors form="form" field="form[fieldId]"></form-errors>
    </div>
</div>
